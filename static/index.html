          React.createElement("div", { className: "mb-4" },
            React.createElement("button", {
              onClick: () => setActiveTab("inventory"),
              className: `p-2 mr-2 ${activeTab === "inventory" ? "bg-blue-500 text-white" : "bg-gray-200"}`
            }, "Остатки"),
            React.createElement("button", {
              onClick: () => setActiveTab("shipments"),
              className: `p-2 ${activeTab === "shipments" ? "bg-blue-500 text-white" : "bg-gray-200"}`
            }, "Отгрузки")
          ),

          activeTab === "inventory" && React.createElement("div", null,
            React.createElement("div", { className: "flex items-center gap-3 mb-4" },
              React.createElement("label", null, "Фильтр по продукции:"),
              React.createElement("select", { value: filterProduct, onChange: e => setFilterProduct(e.target.value), className: "border p-2 rounded" },
                React.createElement("option", { value: "Все продукты" }, "Все продукты"),
                products.map(p => React.createElement("option", { key: p, value: p }, p))
              ),
              React.createElement("button", { onClick: exportInventory, className: "bg-green-600 text-white px-4 py-2 rounded ml-auto" }, "⬇️ Экспорт")
            ),

            userRole === "admin" && React.createElement("form", { onSubmit: handleStockSubmit, className: "flex flex-wrap gap-2 mb-6" },
              React.createElement("input", { type: "date", value: newStock.date, onChange: e => setNewStock(s => ({ ...s, date: e.target.value })), className: "border p-2 rounded" }),
              React.createElement("input", { list: "productList", placeholder: "Продукция", value: newStock.product, onChange: e => setNewStock(s => ({ ...s, product: e.target.value, lot: "" })), className: "border p-2 rounded" }),
              React.createElement("datalist", { id: "productList" }, products.map((p, i) => React.createElement("option", { key: i, value: p }))),
              React.createElement("input", { placeholder: "№ Лота", value: newStock.lot, onChange: e => setNewStock(s => ({ ...s, lot: e.target.value })), className: "border p-2 rounded" }),
              React.createElement("input", { type: "number", placeholder: "Количество", value: newStock.quantity, onChange: e => setNewStock(s => ({ ...s, quantity: e.target.value })), className: "border p-2 rounded" }),
              React.createElement("input", { type: "date", placeholder: "Срок годности", value: newStock.expiryDate, onChange: e => setNewStock(s => ({ ...s, expiryDate: e.target.value })), className: "border p-2 rounded" }),
              React.createElement("button", { type: "submit", className: "bg-green-500 text-white py-2 px-4 rounded" }, "Добавить")
            ),

            Object.entries(groupedInventory).map(([product, items]) =>
              React.createElement("div", { key: product, className: "mb-6" },
                React.createElement("h2", { className: "text-lg font-semibold mb-2" }, product),
                React.createElement("table", { className: "w-full border-collapse bg-white shadow" },
                  React.createElement("thead", null,
                    React.createElement("tr", { className: "bg-gray-100" },
                      ["Дата", "Лот", "Количество", "Срок годности", "Действия"].map(h =>
                        React.createElement("th", { key: h, className: "border p-2 text-left" }, h)
                      )
                    )
                  ),
                  React.createElement("tbody", null,
                    items.map(it =>
                      React.createElement("tr", { key: it.id },
                        React.createElement("td", { className: "border p-2" }, it.date),
                        React.createElement("td", { className: "border p-2" }, it.lot),
                        React.createElement("td", { className: "border p-2" }, it.quantity),
                        React.createElement("td", { className: "border p-2" }, it.expiryDate),
                        React.createElement("td", { className: "border p-2" },
                          userRole === "admin" &&
                            React.createElement("span", null,
                              React.createElement("button", { onClick: () => deleteInventory(it.id), className: "text-red-500" }, "🗑️")
                            )
                        )
                      )
                    ),
                    React.createElement("tr", { className: "font-bold bg-gray-50" },
                      React.createElement("td", { className: "border p-2", colSpan: 2 }, "Итого по продукции"),
                      React.createElement("td", { className: "border p-2" }, items.reduce((sum, i) => sum + Number(i.quantity || 0), 0)),
                      React.createElement("td", { className: "border p-2", colSpan: 2 })
                    )
                  )
                )
              )
            )
          ),

          activeTab === "shipments" && React.createElement("div", null,
            React.createElement("div", { className: "flex flex-wrap gap-3 mb-3 items-end" },
              React.createElement("div", null,
                React.createElement("label", null, "От даты:"),
                React.createElement("input", { type: "date", value: filterDateFrom, onChange: e => setFilterDateFrom(e.target.value), className: "border p-2 rounded" })
              ),
              React.createElement("div", null,
                React.createElement("label", null, "До даты:"),
                React.createElement("input", { type: "date", value: filterDateTo, onChange: e => setFilterDateTo(e.target.value), className: "border p-2 rounded" })
              ),
              React.createElement("div", null,
                React.createElement("label", null, "Продукция:"),
                React.createElement("select", { value: filterShipProduct, onChange: e => setFilterShipProduct(e.target.value), className: "border p-2 rounded" },
                  React.createElement("option", { value: "Все продукты" }, "Все продукты"),
                  products.map(p => React.createElement("option", { key: p, value: p }, p))
                )
              ),
              React.createElement("div", null,
                React.createElement("label", null, "Клиент:"),
                React.createElement("select", { value: filterClient, onChange: e => setFilterClient(e.target.value), className: "border p-2 rounded" },
                  React.createElement("option", { value: "Все клиенты" }, "Все клиенты"),
                  clients.map(c => React.createElement("option", { key: c, value: c }, c))
                )
              ),
              React.createElement("div", null,
                React.createElement("label", null, "Менеджер:"),
                React.createElement("select", { value: filterManager, onChange: e => setFilterManager(e.target.value), className: "border p-2 rounded" },
                  React.createElement("option", { value: "Все менеджеры" }, "Все менеджеры"),
                  managers.map(m => React.createElement("option", { key: m, value: m }, m))
                )
              ),
              React.createElement("button", { onClick: exportShipments, className: "bg-green-600 text-white px-4 py-2 rounded ml-auto" }, "⬇️ Экспорт")
            ),

            userRole === "admin" && React.createElement("form", { onSubmit: handleShipmentSubmit, className: "flex flex-wrap gap-2 mb-4" },
              React.createElement("input", { type: "date", value: newShipment.date, onChange: e => setNewShipment(s => ({ ...s, date: e.target.value })), className: "border p-2 rounded" }),
              React.createElement("input", { list: "clientList", placeholder: "Клиент", value: newShipment.client, onChange: e => setNewShipment(s => ({ ...s, client: e.target.value })), className: "border p-2 rounded" }),
              React.createElement("datalist", { id: "clientList" }, clients.map((c, i) => React.createElement("option", { key: i, value: c }))),
              React.createElement("input", { list: "productShipList", placeholder: "Продукция", value: newShipment.product, onChange: e => setNewShipment(s => ({ ...s, product: e.target.value, lot: "" })), className: "border p-2 rounded" }),
              React.createElement("datalist", { id: "productShipList" }, products.map((p, i) => React.createElement("option", { key: i, value: p }))),
              React.createElement("input", { list: "lotList", placeholder: "№ Лота", value: newShipment.lot, onChange: e => setNewShipment(s => ({ ...s, lot: e.target.value })), className: "border p-2 rounded" }),
              React.createElement("datalist", { id: "lotList" }, inventory.filter(i => i.product === newShipment.product && i.company === company).map((l, i) => React.createElement("option", { key: i, value: l.lot }))),
              React.createElement("input", { type: "number", placeholder: "Количество", value: newShipment.quantity, onChange: e => setNewShipment(s => ({ ...s, quantity: e.target.value })), className: "border p-2 rounded" }),
              React.createElement("input", { list: "managerList", placeholder: "Менеджер", value: newShipment.manager, onChange: e => setNewShipment(s => ({ ...s, manager: e.target.value })), className: "border p-2 rounded" }),
              React.createElement("datalist", { id: "managerList" }, managers.map((m, i) => React.createElement("option", { key: i, value: m }))),
              React.createElement("button", { type: "submit", className: "bg-green-500 text-white py-2 px-4 rounded" }, "Добавить")
            ),

            filteredShipments.map(s =>
              editingShipmentId === s.id
                ? React.createElement("div", { key: s.id, className: "bg-white rounded shadow p-3 mb-2" },
                    React.createElement("div", { className: "flex flex-wrap gap-2" },
                      React.createElement("input", { type: "date", value: editingShipmentData.date || "", onChange: e => setEditingShipmentData(d => ({ ...d, date: e.target.value })), className: "border p-2 rounded" }),
                      React.createElement("input", { value: editingShipmentData.client || "", onChange: e => setEditingShipmentData(d => ({ ...d, client: e.target.value })), className: "border p-2 rounded", placeholder: "Клиент" }),
                      React.createElement("input", { value: editingShipmentData.product || "", onChange: e => setEditingShipmentData(d => ({ ...d, product: e.target.value })), className: "border p-2 rounded", placeholder: "Продукция" }),
                      React.createElement("input", { value: editingShipmentData.lot || "", onChange: e => setEditingShipmentData(d => ({ ...d, lot: e.target.value })), className: "border p-2 rounded", placeholder: "Лот" }),
                      React.createElement("input", { type: "number", value: editingShipmentData.quantity || "", onChange: e => setEditingShipmentData(d => ({ ...d, quantity: e.target.value })), className: "border p-2 rounded", placeholder: "Количество" }),
                      React.createElement("input", { value: editingShipmentData.manager || "", onChange: e => setEditingShipmentData(d => ({ ...d, manager: e.target.value })), className: "border p-2 rounded", placeholder: "Менеджер" }),
                      React.createElement("div", { className: "ml-auto" },
                        React.createElement("button", { onClick: saveEditShipment, className: "bg-green-500 text-white px-3 py-1 rounded mr-2" }, "💾"),
                        React.createElement("button", { onClick: cancelEditShipment, className: "bg-gray-400 text-white px-3 py-1 rounded" }, "✖")
                      )
                    )
                  )
                : React.createElement("div", { key: s.id, className: "bg-white rounded shadow p-3 mb-2 flex justify-between" },
                    React.createElement("div", null, `${s.date} — ${s.client} — ${s.product} (${s.lot})`),
                    React.createElement("div", null, `${s.quantity} шт. — ${s.manager}`,
                      userRole === "admin" && React.createElement("span", null,
                        React.createElement("button", { onClick: () => startEditShipment(s), className: "text-blue-500 mr-2" }, "✏️"),
                        React.createElement("button", { onClick: () => deleteShipment(s.id), className: "text-red-500" }, "🗑️")
                      )
                    )
                  )
            )
          )
        )
      );
    }

    ReactDOM.createRoot(document.getElementById("root")).render(React.createElement(App));
  </script>
</body>
</html>
